<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Stock Checker</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <h2>Top 10 Stocks</h2>
            {% if top_stocks %}
                <ul>
                    {% for stock in top_stocks %}
                        <li>
                            <strong>{{ stock.stock_symbol }}</strong><br>
                            Current Price: ${{ stock.current_price }}<br>
                            Previous Close: ${{ stock.previous_close }}<br>
                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>No stock data available.</p>
            {% endif %}
        </div>
        <div class="main">
            <h1>Stock Checker</h1>
            <form action="/search" method="POST">
                <input type="text" name="stock_symbol" placeholder="Enter stock symbol (e.g. AAPL)" required>
                <button type="submit">Search</button>
            </form>
            {% if stock_info %}
                {% if stock_info.error %}
                    <p>{{ stock_info.error }}</p>
                {% else %}
                    <h2>Stock Information for {{ stock_info.stock_symbol }}</h2>
                    <p><strong>Previous Close:</strong> ${{ stock_info.previous_close }}</p>
                    <p><strong>Current Price:</strong> ${{ stock_info.current_price }}</p>
                    <p><strong>Open:</strong> ${{ stock_info.open_price }}</p>
                    <p><strong>Day's Range:</strong> {{ stock_info.day_low }} - {{ stock_info.day_high }}</p>
                    <p><strong>52-Week Range:</strong> {{ stock_info.year_low }} - {{ stock_info.year_high }}</p>
                    <p><strong>Market Cap:</strong> {{ stock_info.market_cap }}</p>
                    <p><strong>P/E Ratio:</strong> {{ stock_info.pe_ratio }}</p>
                    <p><strong>EPS:</strong> {{ stock_info.eps }}</p>
                    <p><strong>Dividend Yield:</strong> {{ stock_info.div_yield }}</p>
                    <p><strong>Beta:</strong> {{ stock_info.beta }}</p>
                    <p><strong>Volume:</strong> {{ stock_info.volume }}</p>
                    <p><strong>Avg. Volume:</strong> {{ stock_info.avg_volume }}</p>
                    <p><strong>Target High Price:</strong> ${{ stock_info.target_high_price }}</p>
                    <p><strong>Target Low Price:</strong> ${{ stock_info.target_low_price }}</p>
                    <p><strong>Target Mean Price:</strong> ${{ stock_info.target_mean_price }}</p>
                    <p><strong>Recommendation Mean:</strong> {{ stock_info.recommendation_mean }}</p>

                {% endif %}
            {% endif %}
        </div>
    </div>
</body>
</html>